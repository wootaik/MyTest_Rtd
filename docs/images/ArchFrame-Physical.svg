<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="638px" height="252px" viewBox="-0.5 -0.5 638 252" content="&lt;mxfile host=&quot;Electron&quot; modified=&quot;2020-05-31T02:52:16.952Z&quot; agent=&quot;5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) draw.io/13.0.1 Chrome/80.0.3987.163 Electron/8.2.1 Safari/537.36&quot; version=&quot;13.0.1&quot; etag=&quot;ecqy_qVF8_TaXEHp1V9I&quot; type=&quot;device&quot;&gt;&lt;diagram id=&quot;XacSPjz2JOlAKlkxCaLd&quot;&gt;7Vzdc9o4EP9rmEkeyPgbeCTQtJ1pZ26Ou2n7lBG2AM3ZlivLAe6vP8mW/O2YJrlGbcQDWLsrabW7+q2UsEzsVXR6T0By+IwDGE4sIzhN7PXEsubOgr1zwrkgzKx5QdgTFBQksyJs0L9QEA1BzVAA04YgxTikKGkSfRzH0KcNGiAEH5tiOxw2Z03AHnYIGx+EXeoXFNCDWJY1q+gfINof5MymJxYcASksVpIeQICPNZL9bmKvCMa0eIpOKxhy20m7FP3uBrilYgTG9JIOVtHhAYSZWJvQi57lYvcEZ4kQg4TCU5+JwVaKG10VzHJhLCAgjiAlZyYiBrIM0UUGw+Jm0XgV3GNlaMcRPQ41I1uuIALh3H05U7V+9iBM0G8Ou8ccXshmuE0aRvG+Z9xDtxEgexRPKU4m9pJJGAll74yR+zrnbTGlOOqyA0SY3RCOC1ZIScnKYuSzLTPdogAVXBhtYVDyuRsQi8YpCNFe9N+CFIYohqXQDsd0muZbh/NNKzlVerOnvfjMV5cmIO5dYD7KDkQoPBfjMBaIkryrbTvs08cZQZArH8Njhzs8JR95eMoxxTMUU9O75yNkpvce0s0RUf+woYDCqweMgms5D3N5MVVzekYuFt0hJ22adr1Srp/MbrVvL/PtMw39KhFSiMTbtJBk0wJmFW6+asuPOPonKnyHSEpz1FFHp4m1UspGG8gOCYE20qP6/HVARDkbXQKpAwCskfaXQ1olATbNz3X3PAvAewKO6mimGoLULaWOVhpD3hSGqBN4KgOHkc/Qvbn+CY7i8qp3jd41r6GcmvcZsV/UUUnNK40GDQ0aejeoixr6jq9BQ4OGyptBPcxQ+BqjkeMtIQfaXV2pE3xKogcbPp9BEX2UPJZdlzJSstFUKMSUNJ9qMabi3wuur0d00Xnpl/3uR8+JVn8d5A0dQ8baip7c1dFKX3H0FUenkqFUsh73q04lv0kqMQikGYkVunGomTH0P6N/520xG7tMXuTbVskIwVkcQF5TwY14PCAKNwnwOfdIANfoQKOQtUyxqDuxpvWSIMALMv4uXMeePm+EjCgDMvlChMPWIdwJg/ko3n/KW2u7VKmnXqVel2L116WIOhTzxrFMY+46M9O1DBZ0DpyyyX9eMYozXpvDOqAkhRcYGYXhCoeYsHaMY94jpQT/U9YvWSVFirGgcdaLhWE805w1W1nurGsrx7qZ28+3lvvq1rq7M4xnW0t2kAEki6KMG6P+MjtxaBlu17b2C4ShN25YPyMP+XbnxoNxsOQ1dqzphyBNkd80Ljwh+lVAA3/+xp9vXNFan2qs9Vk2Yqb010qQN7/VeVW3vCX7jUU0DFqFfinDTx829h9l+QcKe866fhwobqt5xu0BCEkjMAQUPTSV6POWmOEPjPIMI8LEsRtRYtluc4RiOaJTvQywNY5pNgcyZ62BCiN0BmKOBueaWMIF0mF9Ta8Z1qYI5CoUixGrwCxNelGszgbr90Rm9stQqDKh7QR5UHSS48eYQrLjIMHrS+VIWyL5yyQJ2fkhP3wMZcvWTmGIQJvboRmiAm16AKiV8uTZZSnIEQqCcAjamvm4nUwvScAXQdrjdZ6mBCjpe5k4a1tl0YNhzgtg2PyFMewpZ5ZBj70YuJUJSEKshNtLIPYCQHS7gLhQDBBtrwVk3hMR0Vu0oPV/QkTPbCHi3Hhcr9bBoFXg/WwEXTwJQXe7PPJ+GEE/fGGM5ZZFMijucJbxCZz5/aUtqQF2FGDdeSs03C7Amp71IqdE1qx+pKAIs+qXHux3/wE=&lt;/diagram&gt;&lt;/mxfile&gt;" style="background-color: rgb(255, 255, 255);"><defs/><g><rect x="95" y="1" width="440" height="250" fill="#ffffff" stroke="#000000" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 435px; height: 1px; padding-top: 126px; margin-left: 100px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Arial Unicode MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><span style="font-family: &quot;courier new&quot;"><font style="font-size: 12px">uint16_t u16GetSwitchState(void)</font></span></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><span style="font-family: &quot;courier new&quot;"><font style="font-size: 12px">{</font></span></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">  static uint16_t </span><span style="font-family: &quot;courier new&quot;">FirstState</span><span style="font-family: &quot;courier new&quot;">, </span><span style="font-family: &quot;courier new&quot;">SecondState</span><span style="font-family: &quot;courier new&quot;">, </span><span style="font-family: &quot;courier new&quot;">ThirdState</span><span style="font-family: &quot;courier new&quot;">;</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">  uint16_t </span><span style="font-family: &quot;courier new&quot;">switch_state_raw</span><span style="font-family: &quot;courier new&quot;">, </span><span style="font-family: &quot;courier new&quot;">switch_state</span><span style="font-family: &quot;courier new&quot;">;</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">  </span><span style="font-family: &quot;courier new&quot;">switch_state_raw</span><span style="font-family: &quot;courier new&quot;"> = u16GetSwitchStateRaw(void);</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">  </span><span style="font-family: &quot;courier new&quot;">FirstState</span><span style="font-family: &quot;courier new&quot;"> = </span><span style="font-family: &quot;courier new&quot;">SecondState</span><span style="font-family: &quot;courier new&quot;">;</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">  </span><span style="font-family: &quot;courier new&quot;">SecondState</span><span style="font-family: &quot;courier new&quot;"> = </span><span style="font-family: &quot;courier new&quot;">ThirdState</span><span style="font-family: &quot;courier new&quot;">;</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">  </span><span style="font-family: &quot;courier new&quot;">ThirdState</span><span style="font-family: &quot;courier new&quot;"> = </span><span style="font-family: &quot;courier new&quot;">switch_state_raw</span><span style="font-family: &quot;courier new&quot;">;</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">  if((</span><span style="font-family: &quot;courier new&quot;">ThirdState</span><span style="font-family: &quot;courier new&quot;">==</span><span style="font-family: &quot;courier new&quot;">SecondState</span><span style="font-family: &quot;courier new&quot;">)&amp;&amp;(</span><span style="font-family: &quot;courier new&quot;">SecondState</span><span style="font-family: &quot;courier new&quot;">==</span><span style="font-family: &quot;courier new&quot;">FirstState</span><span style="font-family: &quot;courier new&quot;">))</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><span style="font-family: &quot;courier new&quot;"><font style="font-size: 12px">  {</font></span></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">    </span><span style="font-family: &quot;courier new&quot;">switch_state</span><span style="font-family: &quot;courier new&quot;"> = </span><span style="font-family: &quot;courier new&quot;">switch_state_raw</span><span style="font-family: &quot;courier new&quot;">;</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><span style="font-family: &quot;courier new&quot;"><font style="font-size: 12px">  }</font></span></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">  return(</span><span style="font-family: &quot;courier new&quot;">switch_state</span><span style="font-family: &quot;courier new&quot;">);</span></font></p><p style="margin-top: 0pt ; margin-bottom: 0pt ; direction: ltr ; unicode-bidi: embed ; vertical-align: baseline ; font-size: 12px"><font style="font-size: 12px"><span style="font-family: &quot;courier new&quot;">}</span></font></p></div></div></div></foreignObject><text x="100" y="130" fill="#000000" font-family="Arial Unicode MS" font-size="14px">uint16_t u16GetSwitchState(void)...</text></switch></g><ellipse cx="223.5" cy="22.41" rx="128.5" ry="21.415" fill="none" stroke="#4d9900" stroke-width="2" pointer-events="all"/><ellipse cx="347.5" cy="86" rx="102.5" ry="15" fill="none" stroke="#ff0000" stroke-width="2" pointer-events="all"/><path d="M 95 22.41 Q 55 22 48.7 54.75" fill="none" stroke="#4d9900" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 47.71 59.9 L 45.6 52.37 L 48.7 54.75 L 52.47 53.69 Z" fill="#4d9900" stroke="#4d9900" stroke-miterlimit="10" pointer-events="all"/><rect x="0" y="61" width="95" height="40" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 93px; height: 1px; padding-top: 81px; margin-left: 2px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Arial Unicode MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#4d9900">Interface to<br />Application</font></div></div></div></foreignObject><text x="2" y="85" fill="#000000" font-family="Arial Unicode MS" font-size="14px">Interface to...</text></switch></g><path d="M 450 86 Q 505 101 525 121 Q 545 141 553.81 165.02" fill="none" stroke="#ff0000" stroke-miterlimit="10" pointer-events="stroke"/><path d="M 555.62 169.95 L 549.92 164.58 L 553.81 165.02 L 556.49 162.17 Z" fill="#ff0000" stroke="#ff0000" stroke-miterlimit="10" pointer-events="all"/><rect x="475" y="171" width="162" height="30" fill="none" stroke="none" pointer-events="all"/><g transform="translate(-0.5 -0.5)"><switch><foreignObject style="overflow: visible; text-align: left;" pointer-events="none" width="100%" height="100%" requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"><div xmlns="http://www.w3.org/1999/xhtml" style="display: flex; align-items: unsafe center; justify-content: unsafe flex-start; width: 160px; height: 1px; padding-top: 186px; margin-left: 477px;"><div style="box-sizing: border-box; font-size: 0; text-align: left; "><div style="display: inline-block; font-size: 14px; font-family: Arial Unicode MS; color: #000000; line-height: 1.2; pointer-events: all; white-space: normal; word-wrap: normal; "><font color="#ff0000">Interface to<br />HW Abstraction Layer<br /></font></div></div></div></foreignObject><text x="477" y="190" fill="#000000" font-family="Arial Unicode MS" font-size="14px">Interface to...</text></switch></g></g><switch><g requiredFeatures="http://www.w3.org/TR/SVG11/feature#Extensibility"/><a transform="translate(0,-5)" xlink:href="https://desk.draw.io/support/solutions/articles/16000042487" target="_blank"><text text-anchor="middle" font-size="10px" x="50%" y="100%">Viewer does not support full SVG 1.1</text></a></switch></svg>